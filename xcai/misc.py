# AUTOGENERATED! DO NOT EDIT! File to edit: ../nbs/42_miscellaneous.ipynb.

# %% auto 0
__all__ = ['DATASETS', 'additional_args', 'load_info']

# %% ../nbs/42_miscellaneous.ipynb 2
import joblib, argparse, os
from typing import Optional, List, Union

# %% ../nbs/42_miscellaneous.ipynb 3
from .core import *
from .data import *

# %% ../nbs/42_miscellaneous.ipynb 5
def additional_args():
    parser = argparse.ArgumentParser()
    parser.add_argument("--expt_no", type=int, required=True)
    parser.add_argument("--beir_mode", action="store_true")
    return parser.parse_known_args()[0]
    

# %% ../nbs/42_miscellaneous.ipynb 6
def load_info(save_file:str, meta_file:str, mname:str, sequence_length:Optional[int]=32):
    if os.path.exists(save_file):
        os.makedirs(os.path.dirname(save_file), exist_ok=True)
        meta_info = joblib.load(save_file)
    else:
        meta_info = Info.from_txt(meta_file, max_sequence_length=sequence_length, padding=True, return_tensors='pt',
                                  info_column_names=["identifier", "input_text"], tokenization_column="input_text",
                                  use_tokenizer=True, tokenizer=mname)
        joblib.dump(meta_info, save_file)
    return meta_info
    

# %% ../nbs/42_miscellaneous.ipynb 8
DATASETS = [
    "msmarco",
    "arguana",
    "climate-fever",
    "dbpedia-entity",
    "fever",
    "fiqa",
    "hotpotqa",
    "nfcorpus",
    "nq",
    "quora",
    "scidocs",
    "scifact",
    "webis-touche2020",
    "trec-covid",
    "cqadupstack/android",
    "cqadupstack/english",
    "cqadupstack/gaming",
    "cqadupstack/gis",
    "cqadupstack/mathematica",
    "cqadupstack/physics",
    "cqadupstack/programmers",
    "cqadupstack/stats",
    "cqadupstack/tex",
    "cqadupstack/unix",
    "cqadupstack/webmasters",
    "cqadupstack/wordpress"
]
